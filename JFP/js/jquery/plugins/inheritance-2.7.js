var JFPWClass=(function(){var a={};return{extend:function(d,f){if(arguments.length==1){f=d;d=null}var e=function(){if(arguments[0]==a){return}this.initialize.apply(this,arguments)};if(typeof(d)=="function"){e.prototype=new d(a)}var b=[];if(f&&f.include){if(f.include.reverse){b=b.concat(f.include.reverse())}else{b.push(f.include)}delete f.include}if(f){JFPWClass.inherit(e.prototype,f)}for(var c=0;(mixin=b[c]);c++){JFPWClass.mixin(e.prototype,mixin)}return e},mixin:function(b,c,e){e=e||false;if(typeof(c)!="undefined"&&c!==null){for(var d in c){if(e||(!b[d]&&typeof(c[d])=="function")){b[d]=c[d]}}}return b},inherit:function(c,e,h){if(arguments.length==3){var d=c[h],b=e[h],g=b;b=function(){var j=this.parent;this.parent=d;var i=g.apply(this,arguments);j?this.parent=j:delete this.parent;return i};b.valueOf=function(){return g};b.toString=function(){return g.toString()};c[h]=b}else{for(var f in e){if(c[f]&&typeof(e[f])=="function"){JFPWClass.inherit(c,e,f)}else{c[f]=e[f]}}}return c},singleton:function(){var c=arguments;if(c.length==2&&c[0].getInstance){var b=c[0].getInstance(a);if(b){c[0]=b}}return(function(f){var e=false;var d=JFPWClass.extend.apply(f.callee,f);return{getInstance:function(){if(arguments[0]==a){return d}if(e){return e}return(e=new d())}}})(c)}}})();JFPWClass.create=function(){return JFPWClass.extend.apply(this,arguments)};