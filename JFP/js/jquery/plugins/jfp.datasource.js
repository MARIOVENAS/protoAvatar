(function(d){var e={type:"post",dataType:"json",contentType:"application/json"};var c=function(i,h){if(this.sequence<this.source._sequenceNbr){return false}this.source.abortInProgress();this.source.inProgress=i;return true};var f=function(i,h,j){if(this.sequence<this.source._sequenceNbr){return}this.source._data=i;if(this.source._topics.update){d.publish(this.source._topics.update,[i],jQuery.Event("update"))}};var b=function(j,h,i){if(this.sequence<this.source._sequenceNbr){return}if(this.source._topics.error){d.publish(this.source._topics.error,{xhr:j,error:h,exception:i},jQuery.Event("error"))}};var g=function(m){var h={};var l;var k;for(l in m){if(typeof m[l]=="object"){for(k in m[l]){h[m[l][k]]=l}}else{h[m[l]]=l}}return h};var a=function(h){return{_settings:d.extend({},e,h.properties),_topics:g(h.topics),autoLoad:h.autoLoad,refresh:function(){var i=d.extend({},this._settings,{context:{sequence:++this._sequenceNbr,source:this},beforeSend:c,success:f,error:b});d.ajax(i)},abortInProgress:function(){if(this.inProgress){try{this.inProgress.abort()}catch(i){}}},setPostData:function(i){this._settings.data=i},getData:function(){return this._data},_sequenceNbr:0,_data:[]}};d.dataSource=function(j,k){var i=d(document.body).data("jfp.datasources");var h=void (0);if(!i){i={};d(document.body).data("jfp.datasources",i)}if(j){if(!k){return i[j]}if(typeof k=="string"){h=i[j];return h&&h[k]&&typeof h[k]=="function"&&h[k](Array.prototype.slice.call(arguments,1))}if(typeof k=="object"){h=a(k);i[j]=h;if(k.autoLoad){h.refresh()}return h}}return h}})(jQuery);