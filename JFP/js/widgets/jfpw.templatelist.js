CJW.jfp.widget.TemplateList=JFPWClass.extend(CJW.jfp.widget.Object,{topics:null,selector:null,wrapperSet:null,className:"CJW.jfp.widget.TemplateList",initialize:function(b,a,c){b=b||{};this.optionalAttributes=a||{};c=c||{};this.originalConfig={};this.topicConfig={};JFP.cnp(this.originalConfig,b,{wrapperSet:"_UKN_TMPL_",initialData:[]});JFP.cnp(this.originalConfig,a);this.applyCfg();this.setTopics(c)},applyCfg:function(){this.wrapperSet=this.originalConfig.wrapperSet;this.selector=this.originalConfig.wrapperSet;this.header=this.originalConfig.header;this.template=this.originalConfig.template},getProperty:function(a){return this.orginalConfig[a]},setProperty:function(b,c){var a={};a[b]=c;this.setProperties(a)},setProperties:function(a){a=a||{};JFP.copyProperties(this.originalConfig,a,{wrapperSet:this.originalConfig.wrapperSet,header:this.originalConfig.header});this.applyConfig()},_create:function(){this.render(this.originalConfig.initialData)},destroy:function(){},render:function(a){$jq(this.selector).children("tbody").tmplItem().data=a;this.refresh()},refresh:function(){$jq(this.selector).children("tbody").html($jq(this.originalConfig.template).tmpl(this.getData()));this._adjustHeader();$jq(this.selector).trigger("refresh",{type:"refresh",wrapper:this})},getData:function(){return $jq(this.selector).tmplItem().data},_adjustHeader:function(){var a=$jq(this.header).find("thead > tr:first").children();var b=$jq(this.selector).find("tbody > tr:first").children();$jq.each(b,function(c,e){var d=$jq(e).width()||0;if(a.length>c){$jq(a[c]).width(d)}})}});window.$RDY&&$RDY.complete("CJW.jfp.widget.TemplateList");