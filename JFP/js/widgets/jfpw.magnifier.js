CJW.jfp.widget.Magnifier=JFPWClass.extend(CJW.jfp.widget.Object,{className:"CJW.jfp.widget.Magnifier",instance:null,_addIcon:function(a){},_removeIcon:function(a){},initialize:function(c,a,b){c=c||{};a=a||{};b=b||{};this.oCfg={};this.topicConfig={};JFP.cp(this.oCfg,c,{wrapperSet:"_IMM_UKN_"});this.selector=this.oCfg.wrapperSet;JFP.cnp(this.oCfg,a);JFP.cnp(this.oCfg,{styleClass:"jfpw-magnifier"});this.styleClass=this.oCfg.styleClass;this.applyCfg();this.setTopics(b);this._create()},applyCfg:function(){if(this.instance!=null){this.instance.imageMagnify(this.oCfg)}},getProperty:function(a){if(this.instance!=null){return this.oCfg[a]}},setProperty:function(b,c){var a={};a[b]=c;this.setProperties(a)},setProperties:function(a){a=a||{};JFP.copyProperties(this.oCfg,a,{wrapperSet:this.oCfg.wrapperSet});this.applyConfig()},_create:function(){if(this.instance!=null){return}this.instance=$jq(this.selector).first();this.instance.wrap("<a class='jfpw-magnifier-wrap'></a>").after("<div class='jfpw-magnifier-icon jfpw-icon-hide'></div>");this.instance.parent().find(".jfpw-magnifier-icon").hover(function(){$jq(this).removeClass("jfpw-icon-hide").addClass("jfpw-icon-show")},function(){$jq(this).removeClass("jfpw-icon-show").addClass("jfpw-icon-hide")});this.instance.hover(function(){$jq(this).parent().find(".jfpw-magnifier-icon").removeClass("jfpw-icon-hide").addClass("jfpw-icon-show")},function(){$jq(this).parent().find(".jfpw-magnifier-icon").removeClass("jfpw-icon-show").addClass("jfpw-icon-hide")});this.instance.imageMagnify(this.oCfg);this.instance.addClass(this.styleClass);this.triggerPostConstruction()},destroy:function(){if(this.instance!=null){this._destroy$();$jq(this.selector+"_magnified").remove();this.enable();this.instance.parent().unbind("click.magnify");this.instance.removeClass("jfpw-magnifier").removeClass("jfpw-state-disabled");this.instance.siblings().remove().unwrap();this.instance=null}},disable:function(){if(this.instance!=null){this.instance.addClass("jfpw-state-disabled");this.instance.parent().css({opacity:0.2});this.instance.parent().find(".jfpw-magnifier-icon").css("cursor","default");this.instance.parent().unbind("click.magnify")}},enable:function(){if(this.instance!=null){this.instance.removeClass("jfpw-state-disabled");this.instance.parent().css({opacity:1});this.instance.parent().find(".jfpw-magnifier-icon").css("cursor","pointer");this.instance.imageMagnify(this.oCfg)}},widget:function(){return this.instance},strech:function(){this.instance.parent().trigger("click.magnify")},shrink:function(){$jq(this.selector+"_magnified").parent().trigger("click")}});window.$RDY&&$RDY.complete("CJW.jfp.widget.Magnifier");