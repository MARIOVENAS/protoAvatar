CJW.jfp.widget.Slider=JFPWClass.extend(CJW.jfp.widget.Object,{className:"CJW.jfp.widget.Slider",instance:null,handleHelper:null,blueSlider:false,initialize:function(e,c,h){e=e||{};c=c||{};this.topics=h||{};this.oCfg={};this.topicConfig={};var b=this;var g=this._wrapCallBack(function(i,j){$jq(b.selector).first().trigger("start",{type:"start",wrapper:this,value:j.value})},c.start);var a=this._wrapCallBack(function(i,j){$jq(b.selector).first().trigger("slide",{type:"slide",wrapper:this,value:j.value})},c.slide);var d=this._wrapCallBack(function(i,j){$jq(b.selector).first().trigger("change",{type:"change",wrapper:this,value:j.value})},c.change);var f=this._wrapCallBack(function(i,j){$jq(b.selector).first().trigger("stop",{type:"stop",wrapper:this,value:j.value})},c.stop);JFP.cp(this.oCfg,e,{wrapperSet:"_UNK_SLI_",start:g,slide:a,change:d,stop:f});this.selector=this.oCfg.wrapperSet;delete this.oCfg.wrapperSet;JFP.cnp(this.oCfg,c);JFP.cnp(this.oCfg,{styleClass:"jfpw-slider"});if(this.oCfg.styleClass=="jfpw-blue-slider"){this.blueSlider=true}this._applyCfg();this.styleClass=this.oCfg.styleClass;this.type=this.oCfg.type;this._create()},_applyCfg:function(){if(!(this.instance==null)){this.instance.slider("option",this.oCfg)}},getProperty:function(a){if(!(this.instance==null)){return this.instance.slider("option",a)}},setProperty:function(a,b){if(!(this.instance==null)){this.instance.slider("option",a,b)}},setProperties:function(a){if(!(this.instance==null)){this._unbindEvents();a=a||{};this.instance.slider("option",a);this.bindEvents()}},_create:function(){if(!(this.instance==null)){return}this.instance=$jq(this.selector).first();this.instance.slider(this.oCfg);this.setTopics(this.topics);this.instance.addClass(this.styleClass);this.instance.addClass(this.styleClass+"-"+this.oCfg.orientation);var b=this.styleClass+"-wrap-"+this.oCfg.orientation+" ui-corner-all";var a="40px";var a="40px";if(this.blueSlider){b=this.styleClass+"-wrap-"+this.oCfg.orientation;a="36px"}this.instance.wrap("<div class='jfpw-slider-wrap-"+this.oCfg.orientation+" "+b+"'></div>");if(!this.blueSlider){this.instance.find(".ui-slider-handle").append("<span class='jfpw-slider-icon-"+this.oCfg.orientation+"'>&nbsp;&nbsp;&nbsp;</span>")}if(this.oCfg.orientation=="vertical"){this.instance.find(".ui-slider-handle").css({height:a,"margin-bottom":"-20px"});var c=0;if($jq.browser.msie){if($jq.browser.version=="7.0"){c=7}}this.instance.parent().height(this.instance.parent().parent().outerHeight()+c);if(this.blueSlider){this.instance.css({height:this.instance.parent().height()-34,"margin-top":15})}else{this.instance.css({height:this.instance.parent().height()-($jq.browser.msie==true?($jq.browser.version=="7.0"?50:45):40),"margin-top":$jq.browser.msie==true?15:20})}this.instance.find(".jfpw-slider-icon-vertical").css({"margin-top":$jq.browser.msie==true?"8px":"15px"})}else{this.instance.find(".ui-slider-handle").css({width:a,"margin-left":"-20px"});this.instance.parent().width("100%");if(this.blueSlider){this.instance.css({width:this.instance.parent().width()*0.97,"margin-left":18})}else{this.instance.css({width:this.instance.parent().width()-($jq.browser.msie==true?45:40),"margin-left":$jq.browser.msie==true?15:20})}this.instance.find(".jfpw-slider-icon-horizontal").css({"margin-left":$jq.browser.msie==true?7:15,"margin-right":$jq.browser.msie==true?10:15,width:"10px"})}if($jq.browser.msie==true&&!this.blueSlider){if(this.oCfg.orientation=="vertical"){this.instance.find(".jfpw-slider-icon-vertical").before("<div class='jfpw-slider-tip-up'>&nbsp;&nbsp;&nbsp;</div>");this.instance.find(".jfpw-slider-icon-vertical").after("<div class='jfpw-slider-tip-down'>&nbsp;&nbsp;</div>");this.instance.parent().wrap("<div class='jfpw-slider-vertical-corners-wrap bIE'></div>");this.instance.parent().height(this.instance.parent().height()-16);this.instance.parent().before("<div class='jfpw-slider-vertical-wrap-tip-up'>&nbsp;&nbsp;&nbsp;</div>");this.instance.parent().after("<div class='jfpw-slider-vertical-wrap-tip-down'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>")}else{this.instance.find(".jfpw-slider-icon-horizontal").before("<div class='jfpw-slider-tip-left'>&nbsp;&nbsp;&nbsp;</div>");this.instance.find(".jfpw-slider-icon-horizontal").after("<div class='jfpw-slider-tip-right'>&nbsp;&nbsp;</div>");this.instance.parent().wrap("<div class='jfpw-slider-horizontal-corners-wrap bIE'></div>");this.instance.parent().width(this.instance.parent().width()-16);this.instance.parent().before("<div class='jfpw-slider-horizontal-wrap-tip-left'>&nbsp;&nbsp;&nbsp;</div>");this.instance.parent().after("<div class='jfpw-slider-horizontal-wrap-tip-right'>&nbsp;&nbsp;&nbsp;</div>")}}this.triggerPostConstruction()},destroy:function(){if(!(this.instance==null)){this._destroy$();this._unbindEvents();$jq(this.selector).first().empty();this.instance=null}},disable:function(){if(!(this.instance==null)){this.instance.slider("disable")}},enable:function(){if(!(this.instance==null)){this.instance.slider("enable")}},widget:function(){return this.instance},_unbindEvents:function(){if(!(this.instance==null)){this.instance.unbind()}},_addMouseWheel:function(b,c){var a=function(j,k){var h=c.slider("option","step");var i=c.slider("value");var d=c.slider("option","min");var g=c.slider("option","max");var f=i+(k*h);if(f>=d&&f<=g){if((f<d)&&(f>d)){c.slider("value",d)}else{if((f>g)&&(f<g)){c.slider("value",g)}else{c.slider("value",f)}}j.preventDefault()}};b.mousewheel(a);c.mousewheel(a);c.parent().mousewheel(a)}});window.$RDY&&$RDY.complete("CJW.jfp.widget.Slider");